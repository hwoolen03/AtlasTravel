<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Secure CSP Header -->
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self';
          script-src 'self' https://cdn.auth0.com https://cdn.jsdelivr.net;
          style-src 'self' 'unsafe-inline';
          img-src 'self' data:;
          connect-src 'self' https://*.auth0.com;
          object-src 'none';
          base-uri 'self'">
    
    <title>Atlas Travel</title>
    <link rel="stylesheet" href="HomePage.css">
    
    <!-- Auth0 SDK with Fallback Loader -->
    <script>
        // Async script loader with CORS fallback
        function loadAuth0SDK() {
            const primarySDK = 'https://cdn.jsdelivr.net/npm/@auth0/auth0-spa-js@2.0.0/dist/auth0-spa-js.production.js';
            const fallbackSDK = '/js/auth0-spa-js.production.js';
            
            const loadScript = (url) => {
                return new Promise((resolve, reject) => {
                    const script = document.createElement('script');
                    script.src = url;
                    script.onload = resolve;
                    script.onerror = reject;
                    document.head.appendChild(script);
                });
            };

            loadScript(primarySDK)
                .catch(() => loadScript(fallbackSDK))
                .catch(error => {
                    console.error('Both SDK sources failed:', error);
                    document.body.innerHTML = `
                        <h1 style="color: red">Authentication System Error</h1>
                        <p>Please refresh the page or try again later.</p>
                    `;
                });
        }
        loadAuth0SDK();
    </script>

    <script src="script.js" defer></script>
</head>
<body>
    <header>
        <div class="logo-heading">
            <img src="mock5.png" alt="Atlas Travel Logo" class="logo">
            <h1>Atlas Travel</h1>
        </div>
        <div class="auth-buttons">
            <button id="btn-login-github">Login with GitHub</button>
            <button id="btn-login-google">Login with Google</button>
            <button id="btn-login-figma">Login with Figma</button>
            <button id="btn-logout" style="display:none;">Logout</button>
        </div>
    </header>
    <div class="center-button-container">
        <h2 class="holiday-text">Where Will Atlas Take you?</h2>
        <button class="center-button">Find My Holiday</button>
    </div>
</body>
</html>>
